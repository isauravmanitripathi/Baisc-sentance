<!DOCTYPE html>
<html lang="UTF-8">
<head>
    <title>Code Explanation Adder</title>
    <style>
        textarea {
            width: 100%;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
<label for="code_area">Code:</label>
<textarea id="code_area" rows="10"></textarea>

<label for="explanation_area">Explanation:</label>
<textarea id="explanation_area" rows="5"></textarea>

<button onclick="addExplanation(1)">Add Code Explanation</button>
<button onclick="addExplanation(2)">Add Rewrite Request</button>

<label for="result_area">Result:</label>
<textarea id="result_area" rows="10"></textarea>

<div id="past_results"></div>

<script>
    function addExplanation(option) {
        var code = document.getElementById("code_area").value;
        var explanation = document.getElementById("explanation_area").value;
        var modifiedCode;

        if(option === 1) {
            modifiedCode = "Explain what this code does in plain English. Do not include code in the reply just explain what it does: " + explanation + "\n\n" + code;
        } else if(option === 2) {
            modifiedCode = "Rewrite this text and make sure each sentences are less than 500 characters:\n\n" + explanation + "\n\n" + code;
        }

        document.getElementById("result_area").value = modifiedCode;

        // Create a new div for the past result
        var resultDiv = document.createElement("div");
        resultDiv.className = "past-result";

        // Add the date, time, and result text
        var now = new Date();
        resultDiv.textContent = now.toString() + ":\n" + modifiedCode;

        // Add the new div to the past results at the top
        var pastResults = document.getElementById("past_results");
        pastResults.prepend(resultDiv);
    }
</script>
</body>
</html>
